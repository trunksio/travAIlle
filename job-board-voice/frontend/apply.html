<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internal Application - Career Growth Portal</title>
    <link rel="stylesheet" href="css/corporate-styles.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1 data-i18n="appTitle">Career Growth Portal</h1>
                    <p class="tagline" data-i18n="tagline">Your Next Step Within Our Organization</p>
                </div>
                <nav>
                    <a href="index.html" class="nav-link" data-i18n="backToOpportunities">‚Üê Back to Opportunities</a>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="position-header">
                <h2 id="jobTitle">Loading position...</h2>
                <p class="department" id="jobDepartment"></p>
            </div>

            <div class="application-form-container">
                <h3 class="form-title" data-i18n="applicationForm">Application Form</h3>
                <form id="applicationForm">
                    <div class="form-two-columns">
                        <div class="form-section">
                            <h4 data-i18n="yourInformation">Your Information</h4>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="name" data-i18n="fullName">Full Name</label>
                                    <input type="text" id="name" name="name" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="employee_id" data-i18n="employeeId">Employee ID</label>
                                    <input type="text" id="employee_id" name="employee_id" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="current_department" data-i18n="currentDepartment">Current Department</label>
                                    <input type="text" id="current_department" name="current_department" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="email" data-i18n="email">Email</label>
                                    <input type="email" id="email" name="email" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <label for="phone" data-i18n="phone">Phone</label>
                                    <input type="tel" id="phone" name="phone" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h4 data-i18n="tellUsAboutFit">Tell Us About Your Fit</h4>
                            <p class="section-help" data-i18n="aiAssistHelp">Our AI assistant below will help you fill these fields</p>
                            
                            <div class="form-group">
                                <label for="key_skills" data-i18n="keySkills">Key Skills & Experience</label>
                                <textarea id="key_skills" name="key_skills" rows="5" 
                                    data-i18n-placeholder="keySkillsPlaceholder" placeholder="Share your skills with our AI assistant..."></textarea>
                                <span class="field-status" id="key_skills_status"></span>
                            </div>
                            
                            <div class="form-group">
                                <label for="personal_statement" data-i18n="whyGoodFit">Why You're a Good Fit</label>
                                <textarea id="personal_statement" name="personal_statement" rows="5"
                                    data-i18n-placeholder="whyGoodFitPlaceholder" placeholder="Tell our AI assistant why you're interested..."></textarea>
                                <span class="field-status" id="personal_statement_status"></span>
                            </div>
                        </div>
                    </div>
                </form>
                
                <div class="progress-indicator">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <span class="progress-text" id="progressText" data-i18n="progressReady">Ready to begin</span>
                </div>
            </div>

            <!-- Full Width Chat Section -->
            <div class="chat-section-full">
                <div class="chat-header">
                    <h3 data-i18n="aiCoachTitle">AI Career Coach Chat</h3>
                    <p class="section-help" data-i18n="aiCoachHelp">I'll help you build your application through our conversation</p>
                </div>
                
                <div class="chat-container-full">
                    <div class="chat-messages" id="chatMessages">
                        <!-- Messages will appear here -->
                    </div>
                    
                    <div class="chat-input-container">
                        <textarea 
                            id="chatInput" 
                            class="chat-input" 
                            data-i18n-placeholder="chatPlaceholder" placeholder="Tell me about your experience, paste your CV text, or ask questions about the role..."
                            rows="3"></textarea>
                        <button id="sendButton" class="send-button" data-i18n="send">Send</button>
                    </div>
                </div>
            </div>

            <div class="submit-section">
                <button type="button" id="submitBtn" class="submit-btn" data-i18n="submitApplication">
                    Submit Application
                </button>
                <p class="submit-help" data-i18n="submitHelp">Make sure all fields are complete before submitting</p>
            </div>

            <!-- Success Message (Hidden Initially) -->
            <div id="successMessage" class="success-message" style="display: none;">
                <h2>üéâ Application Submitted Successfully!</h2>
                <p>Thank you for taking this step in your career journey with us.</p>
                <p>The hiring manager will review your application and reach out soon.</p>
                <div class="success-actions">
                    <a href="index.html" class="btn-primary">Explore More Opportunities</a>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>¬© 2024 Internal Career Portal | HR Department | Your growth is our priority</p>
        </div>
    </footer>

    <!-- Hidden session ID for WebSocket -->
    <input type="hidden" id="sessionId" value="">

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/translations.js"></script>
    <script src="js/language-switcher.js"></script>
    <script src="js/internal-application.js"></script>
    <script src="js/chat-interface.js"></script>
</body>
</html>